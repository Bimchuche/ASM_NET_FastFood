@{
    ViewData["Title"] = "ƒê√°nh gi√° ƒë∆°n h√†ng";
    var order = ViewBag.Order as ASM1_NET.Models.Order;
}

<link rel="stylesheet" href="~/client/css/fastfood-theme.css" />
<link rel="stylesheet" href="~/client/css/review.css" />

<div class="review-page">
    <div class="review-container">
        <div class="review-card">
            <div class="review-header">
                <h1>‚≠ê ƒê√°nh gi√° ƒë∆°n h√†ng</h1>
                <p>M√£ ƒë∆°n: <span class="order-code">#@order.OrderCode</span></p>
            </div>
            
            <div class="order-items">
                <h3>üì¶ S·∫£n ph·∫©m trong ƒë∆°n h√†ng:</h3>
                @foreach (var item in order.OrderDetails)
                {
                    <div class="order-item">
                        @if (item.Food != null)
                        {
                            <img src="@item.Food.ImageUrl" alt="@item.Food.Name" onerror="this.src='/images/placeholder.png'" />
                            <div class="order-item-info">
                                <div class="order-item-name">@item.Food.Name</div>
                                <div class="order-item-qty">x@(item.Quantity)</div>
                            </div>
                        }
                        else if (item.Combo != null)
                        {
                            <img src="@item.Combo.ImageUrl" alt="@item.Combo.Name" onerror="this.src='/images/placeholder.png'" />
                            <div class="order-item-info">
                                <div class="order-item-name">üî• @item.Combo.Name</div>
                                <div class="order-item-qty">x@(item.Quantity)</div>
                            </div>
                        }
                    </div>
                }
            </div>
            
            <form method="post" asp-action="Create" asp-route-orderId="@order.Id">
                @Html.AntiForgeryToken()
                
                <div class="rating-section">
                    <label>B·∫°n h√†i l√≤ng nh∆∞ th·∫ø n√†o?</label>
                    <div class="star-rating">
                        <input type="radio" id="star5" name="rating" value="5" required />
                        <label for="star5" title="5 sao">‚òÖ</label>
                        <input type="radio" id="star4" name="rating" value="4" />
                        <label for="star4" title="4 sao">‚òÖ</label>
                        <input type="radio" id="star3" name="rating" value="3" />
                        <label for="star3" title="3 sao">‚òÖ</label>
                        <input type="radio" id="star2" name="rating" value="2" />
                        <label for="star2" title="2 sao">‚òÖ</label>
                        <input type="radio" id="star1" name="rating" value="1" />
                        <label for="star1" title="1 sao">‚òÖ</label>
                    </div>
                </div>
                
                <div class="comment-section">
                    <label>üí¨ Nh·∫≠n x√©t c·ªßa b·∫°n (t√πy ch·ªçn)</label>
                    <textarea name="comment" placeholder="Chia s·∫ª tr·∫£i nghi·ªám c·ªßa b·∫°n v·ªÅ ƒë∆°n h√†ng..."></textarea>
                </div>
                
                <button type="submit" class="btn-submit-review">
                    ‚ú® G·ª≠i ƒë√°nh gi√°
                </button>
            </form>
            
            <a href="/Order/History" class="btn-back">‚Üê Quay l·∫°i l·ªãch s·ª≠ ƒë∆°n h√†ng</a>
        </div>
    </div>
</div>
